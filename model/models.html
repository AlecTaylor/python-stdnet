
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Model and Query API &mdash; python stdnet v0.7.0 documentation</title>
    <link rel="stylesheet" href="../static/celery.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="python stdnet v0.7.0 documentation" href="../index.html" />
    <link rel="up" title="Object Relational Mapper" href="index.html" />
    <link rel="next" title="Fields API" href="fields.html" />
    <link rel="prev" title="Object Relational Mapper" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fields.html" title="Fields API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Object Relational Mapper"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">python stdnet v0.7.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Object Relational Mapper</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="model-and-query-api">
<span id="model-model"></span><h1>Model and Query API<a class="headerlink" href="#model-and-query-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>The StdNet Object Relational Mapper presents a method of
associating user-defined Python classes, referred as <strong>models</strong>,
with data in a <a class="reference internal" href="../backends/backends.html#stdnet.BackendDataServer" title="stdnet.BackendDataServer"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.BackendDataServer</span></tt></a>.
These python classes are subclasses of
<a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a>.</p>
<div class="section" id="stdmodel-class">
<h3>StdModel Class<a class="headerlink" href="#stdmodel-class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="stdnet.orm.StdModel">
<em class="property">class </em><tt class="descclassname">stdnet.orm.</tt><tt class="descname">StdModel</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel" title="Permalink to this definition">¶</a></dt>
<dd><p>A model is the single, definitive source of data
about your data. It contains the essential fields and behaviors
of the data you&#8217;re storing. Each model class
maps instances to <a class="reference internal" href="../backends/structures.html#stdnet.HashTable" title="stdnet.HashTable"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.HashTable</span></tt></a> structures via
the <a class="reference internal" href="#StdModel._meta" title="StdModel._meta"><tt class="xref py py-attr docutils literal"><span class="pre">StdModel._meta</span></tt></a> attribute.</p>
<dl class="attribute">
<dt id="StdModel._meta">
<tt class="descname">_meta</tt><a class="headerlink" href="#StdModel._meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of <a class="reference internal" href="#stdnet.orm.base.Metaclass" title="stdnet.orm.base.Metaclass"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.base.Metaclass</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="StdModel.id">
<tt class="descname">id</tt><a class="headerlink" href="#StdModel.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Model instance id. The instance primary key.</p>
</dd></dl>

<dl class="attribute">
<dt id="StdModel.uuid">
<tt class="descname">uuid</tt><a class="headerlink" href="#StdModel.uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Universally unique identifier for a model instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="stdnet.orm.StdModel.loadedfields">
<tt class="descname">loadedfields</tt><a class="headerlink" href="#stdnet.orm.StdModel.loadedfields" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple of fields loaded when the instance was obtained from the
database. If <tt class="xref docutils literal"><span class="pre">None</span></tt> all fields are available.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.loadedfieldsvalues">
<tt class="descname">loadedfieldsvalues</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.loadedfieldsvalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of fields,values pairs. Fields correspond to
the ones which have been loaded (usually all of them) or
not loaded but modified.
Check the <a class="reference internal" href="../examples/performance.html#performance-loadonly"><em>load_only</em></a> query function for more
details.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.save">
<tt class="descname">save</tt><big>(</big><em>transaction=None</em>, <em>skip_signal=False</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the instance.
The model must be registered with a <tt class="xref py py-class docutils literal"><span class="pre">stdnet.backends.BackendDataServer</span></tt>
otherwise a <a class="reference internal" href="../utility.html#stdnet.ModelNotRegistered" title="stdnet.ModelNotRegistered"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.ModelNotRegistered</span></tt></a> exception will raise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transaction</strong> &#8211; <p>Optional transaction instance.
It can be useful when saving
several object together (it guarantees atomicity
and it is much faster).
Check the <a class="reference internal" href="../examples/tutorial2.html#model-transactions"><em>transaction</em></a>
documentation for more information.</p>
<p>Default: <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</li>
<li><strong>skip_signal</strong> &#8211; <p>When saving an instance, <a class="reference internal" href="#signal-api"><em>signals</em></a>
are sent just before and just after saving. If
this flag is set to <tt class="xref docutils literal"><span class="pre">False</span></tt>, those signals
are not used in the function call.</p>
<p>Default: <tt class="xref docutils literal"><span class="pre">False</span></tt></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The method return <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.is_valid">
<tt class="descname">is_valid</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Kick off the validation algorithm by checking oll
<tt class="xref py py-attr docutils literal"><span class="pre">StdModel.loadedfields</span></tt> agains their respective validation algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">Boolean indicating if the model validates.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.delete">
<tt class="descname">delete</tt><big>(</big><em>transaction=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an instance from database.
If the instance is not available (it does not have an id) and
<tt class="docutils literal"><span class="pre">StdNetException</span></tt> exception will raise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transaction</strong> &#8211; Optional transaction instance as in
<a class="reference internal" href="#stdnet.orm.StdModel.save" title="stdnet.orm.StdModel.save"><tt class="xref py py-meth docutils literal"><span class="pre">stdnet.orm.StdModel.save()</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.related_objects">
<tt class="descname">related_objects</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.related_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator of related objects</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.todict">
<tt class="descname">todict</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.todict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of serialized scalar field for pickling</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.tojson">
<tt class="descname">tojson</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.tojson" title="Permalink to this definition">¶</a></dt>
<dd><p>return a JSON serializable dictionary representation.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.local_transaction">
<tt class="descname">local_transaction</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.local_transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a transaction for this instance.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.StdModel.instance_keys">
<tt class="descname">instance_keys</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.instance_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method for returning keys associated with
this instance only. The instance id
is however available in other keys (indices and other backend containers).</p>
</dd></dl>

<dl class="classmethod">
<dt id="stdnet.orm.StdModel.flush">
<em class="property">classmethod </em><tt class="descname">flush</tt><big>(</big><em>count=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush the model table and all related tables including all indexes.
Calling flush will erase everything about the model
instances in the remote server. If count is a dictionary, the method
will enumerate the number of object to delete. without deleting them.</p>
</dd></dl>

<dl class="classmethod">
<dt id="stdnet.orm.StdModel.transaction">
<em class="property">classmethod </em><tt class="descname">transaction</tt><big>(</big><em>*models</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.StdModel.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a transaction instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="data-server-metaclass">
<span id="database-metaclass"></span><h3>Data Server Metaclass<a class="headerlink" href="#data-server-metaclass" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="stdnet.orm.base.Metaclass">
<em class="property">class </em><tt class="descclassname">stdnet.orm.base.</tt><tt class="descname">Metaclass</tt><big>(</big><em>model</em>, <em>fields</em>, <em>abstract=False</em>, <em>keyprefix=None</em>, <em>app_label=''</em>, <em>verbose_name=None</em>, <em>ordering=None</em>, <em>modelkey=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility class used for storing all information
which maps a <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> model into an object in the
in the remote <a class="reference internal" href="../backends/backends.html#stdnet.BackendDataServer" title="stdnet.BackendDataServer"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.BackendDataServer</span></tt></a>.
An instance is initiated when <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> class is created.</p>
<p>To override default behaviour you can specify the <tt class="docutils literal"><span class="pre">Meta</span></tt> class as an inner
class of <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> in the following way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">stdnet</span> <span class="kn">import</span> <span class="n">orm</span>

<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">orm</span><span class="o">.</span><span class="n">StdModel</span><span class="p">):</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">orm</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
    <span class="o">...</span>
    
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="s">&#39;-timestamp&#39;</span>
        <span class="n">modelkey</span> <span class="o">=</span> <span class="s">&#39;custom&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>abstract</strong> &#8211; Check the <a class="reference internal" href="#Metaclass.abstract" title="Metaclass.abstract"><tt class="xref py py-attr docutils literal"><span class="pre">abstract</span></tt></a> attribute.</li>
<li><strong>ordering</strong> &#8211; Check the <a class="reference internal" href="#Metaclass.ordering" title="Metaclass.ordering"><tt class="xref py py-attr docutils literal"><span class="pre">ordering</span></tt></a> attribute.</li>
<li><strong>app_label</strong> &#8211; Check the <a class="reference internal" href="#Metaclass.app_label" title="Metaclass.app_label"><tt class="xref py py-attr docutils literal"><span class="pre">app_label</span></tt></a> attribute.</li>
<li><strong>keyprefix</strong> &#8211; Check the <a class="reference internal" href="#Metaclass.keyprefix" title="Metaclass.keyprefix"><tt class="xref py py-attr docutils literal"><span class="pre">keyprefix</span></tt></a> attribute.</li>
<li><strong>modelkey</strong> &#8211; Check the <a class="reference internal" href="#Metaclass.modelkey" title="Metaclass.modelkey"><tt class="xref py py-attr docutils literal"><span class="pre">modelkey</span></tt></a> attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Attributes and methods</strong>:</p>
<p>This is the list of attributes and methods available. All attributes,
but the ones mantioned above, are initialized by the object relational
mapper.</p>
<dl class="attribute">
<dt id="Metaclass.abstract">
<tt class="descname">abstract</tt><a class="headerlink" href="#Metaclass.abstract" title="Permalink to this definition">¶</a></dt>
<dd><p>If <tt class="xref docutils literal"><span class="pre">True</span></tt>, it represents an abstract model and no database elements
are created.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.app_label">
<tt class="descname">app_label</tt><a class="headerlink" href="#Metaclass.app_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Unless specified it is the name of the directory or file
(if at top level) containing the
<a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> definition.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.model">
<tt class="descname">model</tt><a class="headerlink" href="#Metaclass.model" title="Permalink to this definition">¶</a></dt>
<dd><p>a subclass of <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a>. Set by the <tt class="docutils literal"><span class="pre">orm</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.ordering">
<tt class="descname">ordering</tt><a class="headerlink" href="#Metaclass.ordering" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional name of a <a class="reference internal" href="fields.html#stdnet.orm.Field" title="stdnet.orm.Field"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.Field</span></tt></a> in the <a class="reference internal" href="#Metaclass.model" title="Metaclass.model"><tt class="xref py py-attr docutils literal"><span class="pre">model</span></tt></a>.
If provided, indeces will be sorted with respect the value of the
field specidied.
Check the <a class="reference internal" href="../examples/tutorial.html#sorting"><em>sorting</em></a> documentation for more details.</p>
<p>Default: <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.dfields">
<tt class="descname">dfields</tt><a class="headerlink" href="#Metaclass.dfields" title="Permalink to this definition">¶</a></dt>
<dd><p>dictionary of <a class="reference internal" href="fields.html#stdnet.orm.Field" title="stdnet.orm.Field"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.Field</span></tt></a> instances.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.fields">
<tt class="descname">fields</tt><a class="headerlink" href="#Metaclass.fields" title="Permalink to this definition">¶</a></dt>
<dd><p>list of <a class="reference internal" href="fields.html#stdnet.orm.Field" title="stdnet.orm.Field"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.Field</span></tt></a> instances.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.keyprefix">
<tt class="descname">keyprefix</tt><a class="headerlink" href="#Metaclass.keyprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the <a class="reference internal" href="../utility.html#settings"><em>settings.DEFAULT_KEYPREFIX</em></a> value.</p>
<p>Default <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.modelkey">
<tt class="descname">modelkey</tt><a class="headerlink" href="#Metaclass.modelkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the modelkey which is by default given by <tt class="docutils literal"><span class="pre">app_label.name</span></tt></p>
<p>Default <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Metaclass.pk">
<tt class="descname">pk</tt><a class="headerlink" href="#Metaclass.pk" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary key <a class="reference internal" href="fields.html#stdnet.orm.Field" title="stdnet.orm.Field"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.Field</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.base.Metaclass.basekey">
<tt class="descname">basekey</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass.basekey" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the key to access model data in the backend server.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">orm</span> <span class="kn">import</span> <span class="n">register</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">register</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
<span class="go">&#39;redis db 7 on 127.0.0.1:6379&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">basekey</span><span class="p">()</span>
<span class="go">&#39;stdnet.examples.user&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.base.Metaclass.autoid">
<tt class="descname">autoid</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass.autoid" title="Permalink to this definition">¶</a></dt>
<dd><p>The id for autoincrements ids</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.base.Metaclass.is_valid">
<tt class="descname">is_valid</tt><big>(</big><em>instance</em><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform validation for <em>instance</em> and stores serialized data,
indexes and errors into local cache.
Return <tt class="xref docutils literal"><span class="pre">True</span></tt> if the instance is ready to be saved to database.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.base.Metaclass.table">
<tt class="descname">table</tt><big>(</big><em>transaction=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass.table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instance of <a class="reference internal" href="../backends/structures.html#stdnet.HashTable" title="stdnet.HashTable"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.HashTable</span></tt></a> holding
the model table</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.base.Metaclass.flush">
<tt class="descname">flush</tt><big>(</big><em>count=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.base.Metaclass.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast method for clearing the whole table including related tables</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="registration">
<span id="register-model"></span><h2>Registration<a class="headerlink" href="#registration" title="Permalink to this headline">¶</a></h2>
<p>Once a model is defined, in order to use it in an application it needs to be
registered with a back-end database. Unregistered models cannot be used to save
data and they will raise exceptions.</p>
<p>Stdnet comes with two fucntions for
registration, a low level and a higher level one which can be used to register
several models at once.</p>
<div class="section" id="register">
<h3>Register<a class="headerlink" href="#register" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="stdnet.orm.register">
<tt class="descclassname">stdnet.orm.</tt><tt class="descname">register</tt><big>(</big><em>model</em>, <em>backend=None</em>, <em>keyprefix=None</em>, <em>timeout=None</em>, <em>ignore_duplicates=True</em><big>)</big><a class="headerlink" href="#stdnet.orm.register" title="Permalink to this definition">¶</a></dt>
<dd><p>The low level function for registering a <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a>
classes with a <tt class="xref py py-class docutils literal"><span class="pre">stdnet.backends.BackendDataServer</span></tt> data server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> &#8211; a <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> class. Must be provided.</li>
<li><strong>backend</strong> &#8211; <p>a backend connection string.</p>
<p>Default <tt class="docutils literal"><span class="pre">settings.DEFAULT_BACKEND</span></tt>.</p>
</li>
<li><strong>keyprefix</strong> &#8211; <p>a string used to prefix all database keys related
to the model. If not provided it is calculated
from the connection string.</p>
<p>Default <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</li>
<li><strong>timeout</strong> &#8211; <p>timeout in seconds for keys persistence.
If not provided it is calculated from the
connection string.</p>
<p>Default <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<p>For Redis the syntax is the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">orm</span>

<span class="n">orm</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="s">&#39;redis://my.host.name:6379/?db=1&#39;</span><span class="p">)</span>
<span class="n">orm</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Book</span><span class="p">,</span> <span class="s">&#39;redis://my.host.name:6379/?db=2&#39;</span><span class="p">)</span>
<span class="n">orm</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">MyOtherModel</span><span class="p">,</span> 
            <span class="s">&#39;redis://my.host.name:6379/?db=2&amp;keyprefix=differentprefix&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">my.host.name</span></tt> can be <tt class="docutils literal"><span class="pre">localhost</span></tt> or an ip address or a domain name,
while <tt class="docutils literal"><span class="pre">db</span></tt> indicates the database number (very useful for separating data
on the same redis instance).</p>
</dd></dl>

</div>
<div class="section" id="register-application-models">
<h3>Register application models<a class="headerlink" href="#register-application-models" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="stdnet.orm.register_application_models">
<tt class="descclassname">stdnet.orm.</tt><tt class="descname">register_application_models</tt><big>(</big><em>applications</em>, <em>models=None</em>, <em>app_defaults=None</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.register_application_models" title="Permalink to this definition">¶</a></dt>
<dd><p>A higher level registration functions for group of models located
on application modules.</p>
<p>It uses the <a class="reference internal" href="../utility.html#stdnet.orm.model_iterator" title="stdnet.orm.model_iterator"><tt class="xref py py-func docutils literal"><span class="pre">stdnet.orm.model_iterator()</span></tt></a> function to iterate
through all <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a> models available in <tt class="docutils literal"><span class="pre">applications</span></tt>
and register them using the <a class="reference internal" href="#stdnet.orm.register" title="stdnet.orm.register"><tt class="xref py py-func docutils literal"><span class="pre">stdnet.orm.register()</span></tt></a> low
level function.</p>
<p>It return a generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>application</strong> &#8211; A String or a list of strings which represent
python dotted paths to modules containing
a <tt class="docutils literal"><span class="pre">models</span></tt> module where models are implemented.</li>
<li><strong>models</strong> &#8211; list of models to include or <tt class="xref docutils literal"><span class="pre">None</span></tt> (all models).
Default <tt class="xref docutils literal"><span class="pre">None</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">register_application_models</span><span class="p">(</span><span class="s">&#39;mylib.myapp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="register-applications">
<h3>Register applications<a class="headerlink" href="#register-applications" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="stdnet.orm.register_applications">
<tt class="descclassname">stdnet.orm.</tt><tt class="descname">register_applications</tt><big>(</big><em>applications</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.register_applications" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple convenience wrapper around the
<a class="reference internal" href="#stdnet.orm.register_application_models" title="stdnet.orm.register_application_models"><tt class="xref py py-func docutils literal"><span class="pre">stdnet.orm.register_application_models()</span></tt></a> generator.</p>
<p>It return s a list of registered models.</p>
</dd></dl>

<span class="target" id="module-stdnet.orm.query"></span></div>
</div>
<div class="section" id="queries">
<h2>Queries<a class="headerlink" href="#queries" title="Permalink to this headline">¶</a></h2>
<div class="section" id="manager">
<h3>Manager<a class="headerlink" href="#manager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="stdnet.orm.query.Manager">
<em class="property">class </em><tt class="descclassname">stdnet.orm.query.</tt><tt class="descname">Manager</tt><a class="headerlink" href="#stdnet.orm.query.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>A manager class for stdnet models. Each <a class="reference internal" href="#stdnet.orm.StdModel" title="stdnet.orm.StdModel"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.StdModel</span></tt></a>
class contains at least one manager which can be accessed by the <tt class="docutils literal"><span class="pre">objects</span></tt>
class attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">orm</span><span class="o">.</span><span class="n">StdModel</span><span class="p">):</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">orm</span><span class="o">.</span><span class="n">SymbolField</span><span class="p">()</span>
    <span class="n">flag</span> <span class="o">=</span> <span class="n">orm</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">()</span>
    
<span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span>
</pre></div>
</div>
<p>Managers are used to construct queries for object retrieval.
Queries can be constructed by selecting instances with specific fields
using a where or limit clause, or a combination of them:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">group</span> <span class="o">=</span> <span class="s">&#39;bla&#39;</span><span class="p">)</span>

<span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">group__in</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;bla&#39;</span><span class="p">,</span><span class="s">&#39;foo&#39;</span><span class="p">])</span>

<span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">group__in</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;bla&#39;</span><span class="p">,</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>They can also exclude instances from the query:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">group</span> <span class="o">=</span> <span class="s">&#39;bla&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="stdnet.orm.query.Manager.get_or_create">
<tt class="descname">get_or_create</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.Manager.get_or_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an object. If it does not exists, it creates one</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.Manager.filter">
<tt class="descname">filter</tt><big>(</big><em>filter_sets=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.Manager.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">QuerySet</span></tt></a> with limiting clauses corresponding to
where or limit in a SQL select statement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filter_sets</strong> &#8211; optional list of set ids to filter.
Used by the <a class="reference internal" href="#stdnet.orm.query.M2MRelatedManager" title="stdnet.orm.query.M2MRelatedManager"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.M2MRelatedManager</span></tt></a>.</li>
<li><strong>kwargs</strong> &#8211; dictionaris of limiting clauses.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.QuerySet</span></tt></a> instance.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.Manager.from_queries">
<tt class="descname">from_queries</tt><big>(</big><em>queries</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.Manager.from_queries" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a new query from a list of <tt class="xref py py-class docutils literal"><span class="pre">field_query</span></tt>
independent queries.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.Manager.exclude">
<tt class="descname">exclude</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.Manager.exclude" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">QuerySet</span></tt></a> containing objects that do not
match the given lookup parameters <em>kwargs</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> &#8211; dictionaris of lookup parameters to exclude from the query.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">a <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.QuerySet</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.Manager.all">
<tt class="descname">all</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.query.Manager.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">QuerySet</span></tt></a> which retrieve all instances of the model. This is a proxy of the <a class="reference internal" href="#stdnet.orm.query.Manager.filter" title="stdnet.orm.query.Manager.filter"><tt class="xref py py-meth docutils literal"><span class="pre">filter()</span></tt></a> method
used without parameters.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="queryset">
<h3>QuerySet<a class="headerlink" href="#queryset" title="Permalink to this headline">¶</a></h3>
<p>Though you usually won&#8217;t create one manually, you&#8217;ll go through a <a class="reference internal" href="#stdnet.orm.query.Manager" title="stdnet.orm.query.Manager"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.Manager</span></tt></a>,
here&#8217;s the formal declaration of a QuerySet.</p>
<dl class="class">
<dt id="stdnet.orm.query.QuerySet">
<em class="property">class </em><tt class="descclassname">stdnet.orm.query.</tt><tt class="descname">QuerySet</tt><big>(</big><em>meta</em>, <em>fargs=None</em>, <em>eargs=None</em>, <em>filter_sets=None</em>, <em>ordering=None</em>, <em>queries=None</em>, <em>empty=False</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet" title="Permalink to this definition">¶</a></dt>
<dd><p>A QuerySet is not created using its constructor but instead using
the model manager via <a class="reference internal" href="#stdnet.orm.query.Manager.filter" title="stdnet.orm.query.Manager.filter"><tt class="xref py py-meth docutils literal"><span class="pre">Manager.filter()</span></tt></a> or,
<a class="reference internal" href="#stdnet.orm.query.Manager.exclude" title="stdnet.orm.query.Manager.exclude"><tt class="xref py py-meth docutils literal"><span class="pre">Manager.exclude()</span></tt></a> or <a class="reference internal" href="#stdnet.orm.query.Manager.all" title="stdnet.orm.query.Manager.all"><tt class="xref py py-meth docutils literal"><span class="pre">Manager.all()</span></tt></a>. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qs</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">field</span> <span class="o">=</span> <span class="s">&#39;bla&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">qs</span></tt> is a <a class="reference internal" href="#stdnet.orm.query.QuerySet" title="stdnet.orm.query.QuerySet"><tt class="xref py py-class docutils literal"><span class="pre">QuerySet</span></tt></a> instance for model <tt class="docutils literal"><span class="pre">MyModel</span></tt> and in this case
it refers to all instances which have <em>field</em> set to <tt class="docutils literal"><span class="pre">bla</span></tt>.</p>
<dl class="method">
<dt id="stdnet.orm.query.QuerySet.filter">
<tt class="descname">filter</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new <tt class="docutils literal"><span class="pre">QuerySet</span></tt> containing objects that match the given lookup parameters.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.exclude">
<tt class="descname">exclude</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.exclude" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new <tt class="docutils literal"><span class="pre">QuerySet</span></tt> containing objects that do not match the given lookup parameters.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.sort_by">
<tt class="descname">sort_by</tt><big>(</big><em>ordering</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.sort_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the query by the given field</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.search">
<tt class="descname">search</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search text in model. A search engine needs to be installed
for this function to be available.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.load_related">
<tt class="descname">load_related</tt><big>(</big><em>*fields</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.load_related" title="Permalink to this definition">¶</a></dt>
<dd><p>It returns a new <tt class="docutils literal"><span class="pre">QuerySet</span></tt> that automatically follows foreign-key
relationships, selecting that additional related-object data when it executes
its query. This is <a class="reference internal" href="../examples/performance.html#increase-performance"><em>performance boost</em></a> when
accessing the related fields of all (most) objects in your queryset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fields</strong> &#8211; fields to include in the loading. If not provided all
foreign keys and <a class="reference internal" href="fields.html#model-field-structure"><em>structured fields</em></a>
in the model will be loaded.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">an instance of a <tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.Queryset</span></tt>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.load_only">
<tt class="descname">load_only</tt><big>(</big><em>*fields</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.load_only" title="Permalink to this definition">¶</a></dt>
<dd><p>This is provides a <a class="reference internal" href="../examples/performance.html#increase-performance"><em>performance boost</em></a>
in cases when you need to load a subset of fields of your model. The boost
achieved is less than the one obtained when using
<a class="reference internal" href="#stdnet.orm.query.QuerySet.load_related" title="stdnet.orm.query.QuerySet.load_related"><tt class="xref py py-meth docutils literal"><span class="pre">QuerySet.load_related()</span></tt></a>, since it does not reduce the number of requests
to the database. However, it can save you lots of bandwidth when excluding
data intensive fields you don&#8217;t need.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.count">
<tt class="descname">count</tt><big>(</big><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of objects in <tt class="docutils literal"><span class="pre">self</span></tt>.
This method is efficient since the queryset does not
receive any data from the server. It construct the queries and count the
objects on the server side.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.items">
<tt class="descname">items</tt><big>(</big><em>slic=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of instances in queryset.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.aslist">
<tt class="descname">aslist</tt><big>(</big><em>slic=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.aslist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return python <tt class="docutils literal"><span class="pre">list</span></tt> of elements in queryset</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.QuerySet.delete">
<tt class="descname">delete</tt><big>(</big><em>transaction=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.QuerySet.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all the element in the queryset</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="relatedmanager">
<h3>RelatedManager<a class="headerlink" href="#relatedmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="stdnet.orm.query.RelatedManager">
<em class="property">class </em><tt class="descclassname">stdnet.orm.query.</tt><tt class="descname">RelatedManager</tt><big>(</big><em>model</em>, <em>related_fieldname</em>, <em>instance=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.RelatedManager" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized <a class="reference internal" href="#stdnet.orm.query.Manager" title="stdnet.orm.query.Manager"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.Manager</span></tt></a> for handling
one-to-many relationships under the hood.
If a model has a <a class="reference internal" href="fields.html#stdnet.orm.ForeignKey" title="stdnet.orm.ForeignKey"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.ForeignKey</span></tt></a> field, instances of
that model will have access to the related (foreign) objects
via a simple attribute of the model.</p>
</dd></dl>

</div>
<div class="section" id="m2mrelatedmanager">
<h3>M2MRelatedManager<a class="headerlink" href="#m2mrelatedmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="stdnet.orm.query.M2MRelatedManager">
<em class="property">class </em><tt class="descclassname">stdnet.orm.query.</tt><tt class="descname">M2MRelatedManager</tt><big>(</big><em>model</em>, <em>st</em>, <em>to_name</em>, <em>instance</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.M2MRelatedManager" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized <a class="reference internal" href="#stdnet.orm.query.Manager" title="stdnet.orm.query.Manager"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.query.Manager</span></tt></a> for handling
many-tomany relationships under the hood.
When a model has a <a class="reference internal" href="fields.html#stdnet.orm.ManyToManyField" title="stdnet.orm.ManyToManyField"><tt class="xref py py-class docutils literal"><span class="pre">stdnet.orm.ManyToManyField</span></tt></a>, instances
of that model will have access to the related objects 
via a simple attribute of the model.</p>
<dl class="method">
<dt id="stdnet.orm.query.M2MRelatedManager.add">
<tt class="descname">add</tt><big>(</big><em>value</em>, <em>transaction=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.M2MRelatedManager.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <em>value</em>, an instance of <tt class="docutils literal"><span class="pre">self.model</span></tt>, to the set.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.M2MRelatedManager.remove">
<tt class="descname">remove</tt><big>(</big><em>value</em>, <em>transaction=None</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.M2MRelatedManager.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove <em>value</em>, an instance of <tt class="docutils literal"><span class="pre">self.model</span></tt> from the set of
elements contained by the field.</p>
</dd></dl>

<dl class="method">
<dt id="stdnet.orm.query.M2MRelatedManager.filter">
<tt class="descname">filter</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#stdnet.orm.query.M2MRelatedManager.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter instances of related model.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="signals">
<span id="signal-api"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>Stdnet includes a signal dispatcher which helps allow decoupled
applications get notified when actions occur elsewhere in the framework.
In a nutshell, signals allow certain senders to notify a set of receivers
that some action has taken place.
They’re especially useful when many pieces of code may be interested in
the same events.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../index.html">
  <img class="logo" width="200" src="../static/net.jpg" alt="Logo"/>
</a>
</p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Model and Query API</a><ul>
<li><a class="reference internal" href="#model">Model</a><ul>
<li><a class="reference internal" href="#stdmodel-class">StdModel Class</a></li>
<li><a class="reference internal" href="#data-server-metaclass">Data Server Metaclass</a></li>
</ul>
</li>
<li><a class="reference internal" href="#registration">Registration</a><ul>
<li><a class="reference internal" href="#register">Register</a></li>
<li><a class="reference internal" href="#register-application-models">Register application models</a></li>
<li><a class="reference internal" href="#register-applications">Register applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#queries">Queries</a><ul>
<li><a class="reference internal" href="#manager">Manager</a></li>
<li><a class="reference internal" href="#queryset">QuerySet</a></li>
<li><a class="reference internal" href="#relatedmanager">RelatedManager</a></li>
<li><a class="reference internal" href="#m2mrelatedmanager">M2MRelatedManager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#signals">Signals</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Object Relational Mapper</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fields.html"
                        title="next chapter">Fields API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/model/models.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fields.html" title="Fields API"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Object Relational Mapper"
             >previous</a> |</li>
        <li><a href="../index.html">python stdnet v0.7.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >Object Relational Mapper</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010-2011, Luca Sbardella.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3900561-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>